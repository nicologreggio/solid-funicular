<!DOCTYPE html>
<html lang="it">
    <head>
         <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta http-equiv="Content-Language" content="IT" />
        <meta name="robots" content="NOINDEX,NOFOLLOW" />

        <link rel="shortcut icon" href="/images/logo.png" TYPE="image/png"/>
        <link rel="stylesheet" href="/admin/style/style.css">

        <title>Crea un nuovo prodotto</title>
    </head>
    <body>
        <header>
            <nav>
                <img src="/images/logo.png">
                <button title="Espandi/chiudi menu" aria-label="Espandi/chiudi il menu" class="hidden-l show-m">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="32px" id="Layer_1"  version="1.1" viewBox="0 0 32 32" width="32px" xml:space="preserve"><path d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"/></svg>
                    <!-- <span aria-hidden="true">&times;</span>-->
                </button>
                <ul>
                    <li>
                        <a href="/admin/administrator/create.php">
                            Aggiungi amministratore
                        </a>
                    </li>
                    <li>
                        <a href="/admin/category/index.php">
                            Categorie
                        </a>
                    </li>
                    <li>
                        <a href="/admin/product/index.php">
                            Prodotti
                        </a>
                    </li>
                    <li>
                        <a href="/admin/material/index.php">
                            Materiali
                        </a>
                    </li>
                    <li>
                        <a href="/admin/queue/index.php">
                            Richieste di preventivo
                        </a>
                    </li>
                    <li>
                        <a href="/admin/logout.php">
                            <span lang="en" xml:lang="en">Logout</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </header>
        <main>
            <h1>Crea un nuovo prodotto</h1>
            <p class="pb-0 mb-0"> Ti trovi in: </p>
            <ul class="breadcrumb mt-0 pt-1">
                <li>
                    <a href="/admin/home.php">
                        Home
                    </a>
                    <p class="separator">
                        >>
                    </p>
                </li>
                <li>
                    <a href="/admin/product/index.php">
                        Prodotti
                    </a>
                    <p class="separator">
                        >>
                    </p>
                </li>
                <li>
                    <p>
                        Crea nuovo prodotto
                    </p>
                </li>

            </ul>
            <p class="error"><error-db/></p>
            <form action="/admin/product/create.php" method="post" id="form-login" data-validate="1" enctype="multipart/form-data">
                <label for="name">Nome</label>
                <input 
                    value="<value-name/>"
                    id="name" 
                    name="name" 
                    type="text"
                    placeholder="Inserisci nome del prodotto" 
                    required="required" 
                    autofocus="autofocus" 
                    data-error-field="error-name" 
                    data-rules="required|min_length:2|max_length:30" 
                    data-error-message="Il nome è obbligatorio e deve essere almeno lungo 2 caratteri e lungo al massimo 30 caratteri">
                <div id="error-name" class="error"><error-name/></div>

                <label for="meta-description">Meta-descrizione</label>
                <textarea 
                    id="meta-description" 
                    name="meta-description" 
                    placeholder="Inserisci la meta-descrizione" 
                    required="required" 
                    data-error-field="error-meta-description" 
                    data-rules="required|max_length:500|min_length:30" 
                    data-error-message="E' obbligatorio inserire una meta-descrizione che sia più lunga di 30 caratteri e lunga al massimo 500 caratteri"><value-meta-description/></textarea>
                <div id="error-meta-description" class="error"><error-meta-description/></div>
                
                <label for="description">Descrizione</label>
                <textarea 
                    id="description" 
                    name="description" 
                    placeholder="Inserisci la descrizione" 
                    required="required" 
                    data-error-field="error-description" 
                    data-rules="required|min_length:30" 
                    data-error-message="E' obbligatorio inserire una descrizione lunga almeno 30 caratteri"><value-description/></textarea>
                <div id="error-description" class="error"><error-description/></div>

                <label for="age">Età consigliata</label>
                <input 
                    value="<value-age/>"
                    id="age" 
                    name="age" 
                    type="text"
                    placeholder="Inserisci l'età consigliata"
                    data-error-field="error-age" 
                    data-rules="max_length:50" 
                    data-error-message="L'età consigliata deve essere più breve di 50 caratteri">
                <div id="error-age" class="error"><error-age/></div>

                <label for="dimensions">Dimensioni del prodotto</label>
                <input 
                    value="<value-dimensions/>"
                    id="dimensions" 
                    name="dimensions" 
                    type="text"
                    placeholder="Inserisci le dimensioni del prodotto"
                    data-error-field="error-dimensions" 
                    data-rules="max_length:300" 
                    data-error-message="Le dimensioni del prodotto possono essere lunghe al massimo 300 caratteri">
                <div id="error-dimensions" class="error"><error-dimensions/></div>

                <label for="image">Immagine del prodotto</label>
                <!-- 
                    sfortunatamente non si può ricompilare un input type file se la validazione fallisce:
                    https://stackoverflow.com/questions/27726980/how-to-refill-file-input-after-form-submited-with-errors
                -->
                <input 
                    id="image" 
                    name="image" 
                    type="file"
                    placeholder="Inserisci un'immagine del prodotto"
                    data-error-field="error-image" 
                    data-rules="file_required" 
                    data-error-message="E' obbligatorio selezionare un'immagine">
                <div id="error-image" class="error pb-2"><error-image/></div>

                <label for="image-description">Descrizione immagine del prodotto</label>
                <input 
                    value="<value-image-description/>"
                    id="image-description" 
                    name="image-description" 
                    type="text"
                    placeholder="Inserisci la descrizione dell'immagine del prodotto"
                    data-error-field="image-description" 
                    data-rules="required|min_length:10|max_length:200" 
                    data-error-message="La descrizione del prodotto deve essere di lunghezza compresa tra 10 e 200 caratteri">
                <div id="error-image-description" class="error"><error-image-description/></div>

                <label for="category">Categoria</label>
                <select 
                    id="category" 
                    name="category" 
                    data-error-field="error-category" 
                    data-rules="required" 
                    data-error-message="E' obbligatorio selezionare una categoria">
                    <categories/>
                </select>
                <div id="error-category" class="error"><error-category/></div>

                <label for="materials">Materiali</label>
                <select 
                    multiple="multiple"
                    id="materials" 
                    name="materials[]">
                    <materials/>
                </select>
                <div id="error-materials" class="error"><error-materials/></div>

                <button type="submit">
                    Crea
                </button>
            </form>
        </main>
        <script src="/src/validate.js"></script>
        <script src="/admin/script/menu.js"></script>
    </body>